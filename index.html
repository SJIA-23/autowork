<!-- 加在你 <script> 裡 -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
          const countrySelect = document.getElementById('country');
          const citySelect = document.getElementById('city');
      
          // 1. 取得國家清單（GeoNames API）
          fetch('http://api.geonames.org/countryInfoJSON?username=sjia23') // 改成你的 username
            .then((response) => response.json())
            .then((data) => {
              const countries = data.geonames;
              countries.forEach((country) => {
                const option = document.createElement('option');
                option.value = country.geonameId; // 或 country.countryCode
                option.textContent = country.countryName;
                countrySelect.appendChild(option);
              });
            });
      
          // 2. 當選擇國家時，取得對應城市
          countrySelect.addEventListener('change', () => {
            const countryId = countrySelect.value;
      
            fetch(`http://api.geonames.org/childrenJSON?geonameId=${countryId}&username=sjia23`)
              .then((response) => response.json())
              .then((data) => {
                citySelect.innerHTML = ''; // 清空舊資料
                data.geonames.forEach((city) => {
                  const option = document.createElement('option');
                  option.value = city.name;
                  option.textContent = city.name;
                  citySelect.appendChild(option);
                });
              });
          });
        });
      </script>
      
